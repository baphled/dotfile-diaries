<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Procmail recipe workflow</title><meta name="generator" content="DocBook XSL Stylesheets V1.74.1"/><link rel="home" href="index.html" title="Dotfile Diaries"/><link rel="up" href="apa.html" title="A. Appendix"/><link rel="prev" href="apas19.html" title="Things I want to learn"/><link rel="next" href="apas21.html" title="Remapping my fingers"/></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">Procmail recipe workflow</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="apas19.html">Prev</a> </td><th width="60%" align="center">A. Appendix</th><td width="20%" align="right"> <a accesskey="n" href="apas21.html">Next</a></td></tr></table><hr/></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="_procmail_recipe_workflow"/>Procmail recipe workflow</h3></div></div></div><p>Getting recipes just right can be interesting and in the past I
literally had to play it by ear. On this time round I wanted to be a bit
more smarter about it. I had a little search online and came up with
<a class="ulink" href="http://pm-doc.sourceforge.net/doc/#what_is_dry_run_testing" target="_top">this</a> which
helped quite a lot. It gave my inspiration to refine this into a
workflow so that I could easily test recipes whilst not having to wait
for an email to actually come through.</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p>Add link to <code class="literal">~/bin/procmail_recipe_test</code>. Located at GH#e452d09</p></div><p>I wrapped the Procmail dryrun command as shown above to easily run the
script.</p><p>Procmail logs are located at <code class="literal">~/logs/procmail-dryrun.log</code> so I ran <code class="literal">tail
-f ~/logs/procmail.log</code> in a split pane so that I could see what was
coming in.</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p>Ideally this should be part of the script that I just built.</p></div><p>Doing this gave me that ability to see how a the sample email was being
filter, if at all.</p><p>Now the last peice of the puzzle was to easily create test emails
without having to do them by hand. This again was pretty simple as mutt
was already setup to use vim as its editor.</p><p>Pressing <code class="literal">e</code> in mutt opened an email in vim which meant that in Normal
mode I was apply to give the following command to save the sample email:</p><pre class="literallayout">:w ~/emailtest.txt</pre><p>Now that the sample email was save I am free to run
<code class="literal">~/bin/procmail_recipe_test</code> and see how the email is processed.</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p>Add screenshot of the split panes to demostrate the workflow</p></div><p/></div><div class="navfooter"><hr/><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="apas19.html">Prev</a> </td><td width="20%" align="center"><a accesskey="u" href="apa.html">Up</a></td><td width="40%" align="right"> <a accesskey="n" href="apas21.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">Things I want to learn </td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right" valign="top"> Remapping my fingers</td></tr></table></div></body></html>